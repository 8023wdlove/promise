<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Promise</title>
	<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script>
		// Promise 是一个对象
		// let P =  new  Promise((resolve,reject)=>{
  //       // 参数是两个函数  resolve 成功 reject  失败
		// }).then(data=>{
  //       // 成功回调
		// }).catch(err=>{
  //       // 失败回调
		// });
	    // Promise 是一个对象 ，创立了会立即执行 
	    function ajax (url){
            return new Promise((resolve,reject)=>{
	            $.ajax({
	            	url,
	            	dataType:'text',
	            	success(data){
	                   resolve(data);
	            	},
	            	error(err){
	                   reject(err);
	            	}
	            })
		    })
	   };
	   let  str = '';
       ajax('data/WE.txt').then(data=>{
		   console.log('we',data);
       	  str = str + " "+data;
       	  return  ajax('data/LIKE.txt');
       }).then(data=>{
		  console.log('like',data);
       	  str = str + " "+data;
       	  return ajax('data/CODING.txt');
       }).then(data=>{
		  console.log('coding',data);
       	   str = str + " "+data;
       	  return ajax('data/!!.txt');
       }).then(data=>{
		console.log('!!',data);
           str = str + " "+data;
         alert(str);
       }).catch (err=>{
       	 console.log(err);
       })
		


	</script>
</head>
<body>
	
</body>
</html>